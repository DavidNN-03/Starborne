<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../CSS/styles.css" />
    <title>Starborne - PlayerController</title>
  </head>
  <body>
    <!-- topnav -->
    <div class="topnav"><a href="./index.html">Starborne</a></div>

    <div class="sidebar"><h1 >Documentation</h1><br><br><h2 >Classes</h2><h4 >Starborne.Building</h4><a href="./LateInitObject.html">LateInitObject</a><br><br><a href="./SceneBuilder.html">SceneBuilder</a><br><br><h4 >Starborne.Combat</h4><a href="./DummyTarget.html">DummyTarget</a><br><br><a href="./Gun.html">Gun</a><br><br><a href="./Projectile.html">Projectile</a><br><br><h4 >Starborne.Containers</h4><a href="./ArrayContainer.html">ArrayContainer</a><br><br><a href="./TransformContainer.html">TransformContainer</a><br><br><h4 >Starborne.Control</h4><a href="./BehemothController.html">BehemothController</a><br><br><a href="./CameraController.html">CameraController</a><br><br><a href="./CharacterSelect.html">CharacterSelect</a><br><br><a href="./EnemyTurretController.html">EnemyTurretController</a><br><br><a href="./GameOverSceneHandler.html">GameOverSceneHandler</a><br><br><a href="./InputConfig.html">InputConfig</a><br><br><a href="./LevelSelectButton.html">LevelSelectButton</a><br><br><a href="./LevelSelectButtonHandler.html">LevelSelectButtonHandler</a><br><br><a href="./MenuHandler.html">MenuHandler</a><br><br><a href="./PatrolPath.html">PatrolPath</a><br><br><a href="./PlayerController.html">PlayerController</a><br><br><a href="./SceneChangeButton.html">SceneChangeButton</a><br><br><a href="./StartScreenButton.html">StartScreenButton</a><br><br><a href="./StartScreenProjectile.html">StartScreenProjectile</a><br><br><a href="./StartScreenShooter.html">StartScreenShooter</a><br><br><h4 >Starborne.Core</h4><a href="./CreditsTextMover.html">CreditsTextMover</a><br><br><a href="./DestroyAfterSeconds.html">DestroyAfterSeconds</a><br><br><a href="./EssentialObjects.html">EssentialObjects</a><br><br><a href="./PreviewRotater.html">PreviewRotater</a><br><br><h4 >Starborne.GameResources</h4><a href="./ChildHealth.html">ChildHealth</a><br><br><a href="./EnemyHealth.html">EnemyHealth</a><br><br><a href="./PlayerHealth.html">PlayerHealth</a><br><br><h4 >Starborne.Mission</h4><a href="./OptionalAssignmentHandler.html">OptionalAssignmentHandler</a><br><br><a href="./PrimaryAssignmentHandler.html">PrimaryAssignmentHandler</a><br><br><h4 >Starborne.Saving</h4><a href="./CharacterHandler.html">CharacterHandler</a><br><br><a href="./ProgressionReseter.html">ProgressionReseter</a><br><br><a href="./SceneCapturer.html">SceneCapturer</a><br><br><a href="./SceneDataHandler.html">SceneDataHandler</a><br><br><a href="./AssignmentsContainer.html">AssignmentsContainer</a><br><br><a href="./Character.html">Character</a><br><br><a href="./ObjectsContainer.html">ObjectsContainer</a><br><br><a href="./ObjectToSaveWithObjectName.html">ObjectToSaveWithObjectName</a><br><br><a href="./ObjectToSaveWithParentName.html">ObjectToSaveWithParentName</a><br><br><a href="./SceneData.html">SceneData</a><br><br><a href="./SecondaryAssignment.html">SecondaryAssignment</a><br><br><a href="./ArrayWriter.html">ArrayWriter</a><br><br><a href="./CharacterWriter.html">CharacterWriter</a><br><br><a href="./SceneWriter.html">SceneWriter</a><br><br><h4 >Starborne.SceneHandling</h4><a href="./CreditsSceneEnder.html">CreditsSceneEnder</a><br><br><a href="./LoadingScreenHandler.html">LoadingScreenHandler</a><br><br><a href="./SceneHandler.html">SceneHandler</a><br><br><h4 >Starborne.UI</h4><a href="./EnemyPointer.html">EnemyPointer</a><br><br><a href="./GameUI.html">GameUI</a><br><br><br><h2 >Interfaces</h2><a href="./IHealth.html">IHealth</a><br><br><a href="./ILateInit.html">ILateInit</a><br><br><br><h2 >Enums</h2><a href="./InputSet.html">InputSet</a><br><br><a href="./MovementType.html">MovementType</a><br><br><a href="./AssignmentType.html">AssignmentType</a><br><br></div>

    <!-- main area-->
    <div class="main-text-container"><h1 >public class PlayerController</h1><br><p >Namespace: Starborne.Control</p><p >Inherits from: MonoBehaviour</p><br><p >Controls the player character.</p><br><br><table class="myTable"><tr><td style="width:20%">private </td><td style="width:20%">InputConfig</td><td style="width:30%">inputConfig</td><td style="width:30%">How the player character should take input.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">maxEnginePower</td><td style="width:30%">How much power can be applied to the player character.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">enginePower</td><td style="width:30%">The amount of power currrently being applied to the player character.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">rollSensitivity</td><td style="width:30%">Sensitivity for rotating the player character on its Z-axis.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">pitchSensitivity</td><td style="width:30%">Sensitivity for rotating the player character on its X-axis.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">yawSensitivity</td><td style="width:30%">Sensitivity for rotating the player character on its Y-axis.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">rollEffectivenessAtMaxSpeed</td><td style="width:30%">How effectively the player can rotate on its Z-axis when moving at max speed. The faster the player moves, the slower the player rotates - assuming that this value is between higher than 0 and lower than 1.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">pitchEffectivenessAtMaxSpeed</td><td style="width:30%">How effectively the player can rotate on its X-axis when moving at max speed. The faster the player moves, the slower the player rotates - assuming that this value is between higher than 0 and lower than 1.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">yawEffectivenessAtMaxSpeed</td><td style="width:30%">How effectively the player can rotate on its Y-axis when moving at max speed. The faster the player moves, the slower the player rotates - assuming that this value is between higher than 0 and lower than 1.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">maxSpeed</td><td style="width:30%">The max speed at which the player can move.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">baseSpeed</td><td style="width:30%">The speed the player will accelerate towards if movementType is set to MovementType.dampenedBaseSpeed.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">dampeningSpeedChange</td><td style="width:30%">How quickly the character's speed changes due to dampening.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">gunMaxSpreadDegrees</td><td style="width:30%">Max amount of spread in degrees when firing the guns.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">changeSceneOnDeathDelay</td><td style="width:30%">Amount of seconds between the player dying and loading the game over scene.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">speed</td><td style="width:30%">Player's current speed.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">roll</td><td style="width:30%">Rotation to be applied on the player's Z-axis.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">pitch</td><td style="width:30%">Rotation to be applied on the player's X-axis.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">yaw</td><td style="width:30%">Rotation to be applied on the player's Y-axis.</td></tr><tr><td style="width:20%">public </td><td style="width:20%">float</td><td style="width:30%">throttle</td><td style="width:30%">Input from the player on if and how they want to accelerate.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">MovementType</td><td style="width:30%">movementType</td><td style="width:30%">How the player's speed should change when no buttons for acceleration are being pushed.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">Transform</td><td style="width:30%">gunsParent</td><td style="width:30%">The GameObject that will be the parent of the guns.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">Gun</td><td style="width:30%">gunPrefab</td><td style="width:30%">The gun prefab that will be instantiated.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">Gun[]</td><td style="width:30%">guns</td><td style="width:30%">Array of all the instantiated guns.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">Character</td><td style="width:30%">characterStats</td><td style="width:30%">The chosen character's stats.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">GameObject</td><td style="width:30%">deathFX</td><td style="width:30%">The GameObject to be instantiated when the player dies.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">GameUI</td><td style="width:30%">gameUI</td><td style="width:30%">The component that controls the player's UI.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">Rigidbody</td><td style="width:30%">rb</td><td style="width:30%">The player GameObject's Rigidbody.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">PlayerHealth</td><td style="width:30%">health</td><td style="width:30%">The player's health component.</td></tr></table><br><br><table class="myTable"><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Awake()</td><td style="width:30%">Find values for gameUI, rb, health, meshFilter, and meshRenderer.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Start()</td><td style="width:30%">Lock the mouse, get the character stats, add the Die funtion to health's onDeath event, set values in the CameraController, MeshFilter, MeshFilter, and MeshCollider, update the UI, and the guns are instantiated and their values are set.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">FixedUpdate()</td><td style="width:30%">Check if the Z key is pressed, if so, call CycleMovementType. If the left mouse button is down, call AttemptFire on all Guns in guns. Update speedometer by calling UpdateSpeedText on gameUI.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">CycleMovementType()</td><td style="width:30%">Change the MovementType and update the UI accordingly.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Move()</td><td style="width:30%">Get input from the player, invert it if necessary, clamp it, set the movement to be forwards, and calculaate and add acceleration.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">GetInputs()</td><td style="width:30%">Get input with GetInputFromInputSet based on the inputConfig.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">float</td><td style="width:30%">GetInputFromInputSet(InputSet inputSet)</td><td style="width:30%">Return input of a given InputSet.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">InvertInputs()</td><td style="width:30%">Invert the inputs if defined by the inputConfig.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">ClampInputs()</td><td style="width:30%">Clamp the inputs between -1 and 1.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">ControlVelocityDirection()</td><td style="width:30%">Set the velocity to be completely along its local Z-axis.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">ControlThrottle()</td><td style="width:30%">Calcluate enginePower.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">CalculateTorque()</td><td style="width:30%">Calculate and apply rotation.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">SetSpeed()</td><td style="width:30%">Add engine power to speed, clamp the speed and set the velocity.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">ModifySpeed()</td><td style="width:30%">Accelerate depending on the throttle and movementType.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">OnCollisionEnter(Collision collision)</td><td style="width:30%">When the player collides with anything, the player dies immediatly. The player finds PlayerHealth and calls Collision.</td></tr><tr><td style="width:20%">private </td><td style="width:20%">void</td><td style="width:30%">Die()</td><td style="width:30%">Instantiate the deathFX if it isnt null, find the OptionalAssignmentHandler and call CaptureData and SetLevelWon(false). Also, unlock the mouse and load the game-over scene.</td></tr></table><br><br><br><br><br></div>
  </body>
</html>
